{"abi":[{"inputs":[{"internalType":"contract GPv2Authentication","name":"authenticator_","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"target","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"},{"indexed":false,"internalType":"bytes4","name":"selector","type":"bytes4"}],"name":"Interaction","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":false,"internalType":"bytes","name":"orderUid","type":"bytes"}],"name":"OrderInvalidated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":false,"internalType":"bytes","name":"orderUid","type":"bytes"},{"indexed":false,"internalType":"bool","name":"signed","type":"bool"}],"name":"PreSignature","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"solver","type":"address"}],"name":"Settlement","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":false,"internalType":"contract IERC20","name":"sellToken","type":"address"},{"indexed":false,"internalType":"contract IERC20","name":"buyToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"sellAmount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"buyAmount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"feeAmount","type":"uint256"},{"indexed":false,"internalType":"bytes","name":"orderUid","type":"bytes"}],"name":"Trade","type":"event"},{"inputs":[],"name":"allowanceManager","outputs":[{"internalType":"contract GPv2AllowanceManager","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"authenticator","outputs":[{"internalType":"contract GPv2Authentication","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"domainSeparator","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes","name":"","type":"bytes"}],"name":"filledAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes[]","name":"orderUids","type":"bytes[]"}],"name":"freeFilledAmountStorage","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes[]","name":"orderUids","type":"bytes[]"}],"name":"freePreSignatureStorage","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"offset","type":"uint256"},{"internalType":"uint256","name":"length","type":"uint256"}],"name":"getStorageAt","outputs":[{"internalType":"bytes","name":"","type":"bytes"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes","name":"orderUid","type":"bytes"}],"name":"invalidateOrder","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes","name":"","type":"bytes"}],"name":"preSignature","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes","name":"orderUid","type":"bytes"},{"internalType":"bool","name":"signed","type":"bool"}],"name":"setPreSignature","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract IERC20[]","name":"tokens","type":"address[]"},{"internalType":"uint256[]","name":"clearingPrices","type":"uint256[]"},{"components":[{"internalType":"uint256","name":"sellTokenIndex","type":"uint256"},{"internalType":"uint256","name":"buyTokenIndex","type":"uint256"},{"internalType":"address","name":"receiver","type":"address"},{"internalType":"uint256","name":"sellAmount","type":"uint256"},{"internalType":"uint256","name":"buyAmount","type":"uint256"},{"internalType":"uint32","name":"validTo","type":"uint32"},{"internalType":"bytes32","name":"appData","type":"bytes32"},{"internalType":"uint256","name":"feeAmount","type":"uint256"},{"internalType":"uint256","name":"flags","type":"uint256"},{"internalType":"uint256","name":"executedAmount","type":"uint256"},{"internalType":"bytes","name":"signature","type":"bytes"}],"internalType":"struct GPv2Trade.Data[]","name":"trades","type":"tuple[]"},{"components":[{"internalType":"address","name":"target","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"callData","type":"bytes"}],"internalType":"struct GPv2Interaction.Data[][3]","name":"interactions","type":"tuple[][3]"}],"name":"settle","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"targetContract","type":"address"},{"internalType":"bytes","name":"calldataPayload","type":"bytes"}],"name":"simulateDelegatecall","outputs":[{"internalType":"bytes","name":"response","type":"bytes"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"targetContract","type":"address"},{"internalType":"bytes","name":"calldataPayload","type":"bytes"}],"name":"simulateDelegatecallInternal","outputs":[{"internalType":"bytes","name":"response","type":"bytes"}],"stateMutability":"nonpayable","type":"function"},{"stateMutability":"payable","type":"receive"}],"bytecode":"0x60e06040523480156200001157600080fd5b50604051620031b9380380620031b9833981016040819052620000349162000146565b604080517f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f6020808301919091527f6c85c0337eba1661327f94f3bf46c8a7f9311a563f4d5c948362567f5d8ed60c828401527ff9446b8e937d86f0bc87cac73923491692b123ca5f8761908494703758206adf606080840191909152466080808501919091523060a08086019190915285518086038201815260c09095019586905284519490930193909320909252600180559083901b6001600160601b0319169052620001039062000138565b604051809103906000f08015801562000120573d6000803e3d6000fd5b5060601b6001600160601b03191660c0525062000176565b6104558062002d6483390190565b60006020828403121562000158578081fd5b81516001600160a01b03811681146200016f578182fd5b9392505050565b60805160a05160601c60c05160601c612ba7620001bd6000398061047752806108ae5280610da15250806103475280610636525080610af352806117435250612ba76000f3fe6080604052600436106100d65760003560e01c8063a2a7d51b1161007f578063ec6cb13f11610059578063ec6cb13f1461021e578063ed9f35ce1461023e578063f698da251461025e578063f84436bd14610273576100dd565b8063a2a7d51b146101c9578063c4b1e4fb146101e9578063d08d33d1146101fe576100dd565b80632479fb6e116100b05780632479fb6e1461014f57806343218e191461017c5780635624b25b146101a9576100dd565b806313d79a0b146100e257806315337bc0146101045780632335c76b14610124576100dd565b366100dd57005b600080fd5b3480156100ee57600080fd5b506101026100fd366004612432565b610293565b005b34801561011057600080fd5b5061010261011f36600461250d565b61053b565b34801561013057600080fd5b50610139610634565b6040516101469190612660565b60405180910390f35b34801561015b57600080fd5b5061016f61016a366004612596565b610658565b6040516101469190612718565b34801561018857600080fd5b5061019c6101973660046123a6565b610675565b604051610146919061276e565b3480156101b557600080fd5b5061019c6101c43660046125c9565b6107ed565b3480156101d557600080fd5b506101026101e43660046123f2565b610863565b3480156101f557600080fd5b506101396108ac565b34801561020a57600080fd5b5061016f610219366004612596565b6108d0565b34801561022a57600080fd5b50610102610239366004612541565b6108ed565b34801561024a57600080fd5b506101026102593660046123f2565b610aac565b34801561026a57600080fd5b5061016f610af1565b34801561027f57600080fd5b5061019c61028e3660046123a6565b610b15565b6002600154141561030557604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c00604482015290519081900360640190fd5b60026001556040517f02cc250d00000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000000000000000000000000000000000000000000016906302cc250d9061037c903390600401612660565b60206040518083038186803b15801561039457600080fd5b505afa1580156103a8573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103cc91906124f1565b61040b576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161040290612922565b60405180910390fd5b6104278160005b60200281019061042291906129c0565b610d5e565b6000610437888888888888610e9b565b6040517faef733d700000000000000000000000000000000000000000000000000000000815290915073ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000169063aef733d7906104ac908490600401612681565b600060405180830381600087803b1580156104c657600080fd5b505af11580156104da573d6000803e3d6000fd5b505050506104ee8260016003811061041257fe5b6104f781610f98565b610502826002610412565b60405133907f40338ce1a7c49204f0099533b1e9a7ee0a3d261f84974ab7af36105b8c4e9db490600090a2505060018055505050505050565b60006105478383610fc8565b5091505073ffffffffffffffffffffffffffffffffffffffff8116331461059a576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610402906127d8565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff600284846040516105cd929190612634565b9081526020016040518091039020819055508073ffffffffffffffffffffffffffffffffffffffff167f875b6cb035bbd4ac6500fabc6d1e4ca5bdc58a3e2b424ccb5c24cdbebeb009a98484604051610627929190612721565b60405180910390a2505050565b7f000000000000000000000000000000000000000000000000000000000000000081565b805160208183018101805160028252928201919093012091525481565b606060008373ffffffffffffffffffffffffffffffffffffffff16836040518082805190602001908083835b602083106106de57805182527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe090920191602091820191016106a1565b6001836020036101000a038019825116818451168082178552505050505050905001915050600060405180830381855af49150503d806000811461073e576040519150601f19603f3d011682016040523d82523d6000602084013e610743565b606091505b5080935081925050506107e682826040516020018083805190602001908083835b602083106107a157805182527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe09092019160209182019101610764565b6001836020036101000a03801982511681845116808217855250505050505090500182151560f81b815260010192505050604051602081830303815290604052611056565b5092915050565b606060008260200267ffffffffffffffff8111801561080b57600080fd5b506040519080825280601f01601f191660200182016040528015610836576020820181803683370190505b50905060005b83811015610859578481015460208083028401015260010161083c565b5090505b92915050565b30331461089c576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016104029061287d565b6108a86000838361105e565b5050565b7f000000000000000000000000000000000000000000000000000000000000000081565b805160208183018101805160008252928201919093012091525481565b60006108f98484610fc8565b5091505073ffffffffffffffffffffffffffffffffffffffff8116331461098157604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601a60248201527f475076323a2063616e6e6f74207072657369676e206f72646572000000000000604482015290519081900360640190fd5b81156109db577ff59c009283ff87aa78203fc4d9c2df025ee851130fb69cc3e068941f6b5e2d6f60001c60008585604051808383808284378083019250505092505050908152602001604051809103902081905550610a07565b600080858560405180838380828437919091019485525050604051928390036020019092209290925550505b8073ffffffffffffffffffffffffffffffffffffffff167f01bf7c8b0ca55deecbea89d7e58295b7ffbf685fd0d96801034ba8c6ffe1c68d858585604051808060200183151581526020018281038252858582818152602001925080828437600083820152604051601f9091017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe016909201829003965090945050505050a250505050565b303314610ae5576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016104029061287d565b6108a86002838361105e565b7f000000000000000000000000000000000000000000000000000000000000000081565b606060006343218e1960e01b8484604051602401808373ffffffffffffffffffffffffffffffffffffffff16815260200180602001828103825283818151815260200191508051906020019080838360005b83811015610b7f578181015183820152602001610b67565b50505050905090810190601f168015610bac5780820380516001836020036101000a031916815260200191505b50604080517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe08184030181529181526020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff167fffffffff00000000000000000000000000000000000000000000000000000000909816979097178752518151919750309688965090945084935091508083835b60208310610c7d57805182527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe09092019160209182019101610c40565b6001836020036101000a0380198251168184511680821785525050505050509050019150506000604051808303816000865af19150503d8060008114610cdf576040519150601f19603f3d011682016040523d82523d6000602084013e610ce4565b606091505b50905080925050600082600184510381518110610cfd57fe5b602001015160f81c60f81b7effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916600160f81b149050610d40836001855103611114565b8015610d4d57505061085d565b610d5683611056565b505092915050565b60005b81811015610e965736838383818110610d7657fe5b9050602002810190610d889190612a88565b905073ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000000000000000000000000000000000000000000016610dce602083018361238c565b73ffffffffffffffffffffffffffffffffffffffff161415610e1c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161040290612959565b610e2581611118565b610e32602082018261238c565b73ffffffffffffffffffffffffffffffffffffffff167fed99827efb37016f2275f98c4bcf71c7551c75d59e9b450f79fa32e60be672c28260200135610e778461116f565b604051610e85929190612990565b60405180910390a250600101610d61565b505050565b60606000610ea7611199565b90508267ffffffffffffffff81118015610ec057600080fd5b50604051908082528060200260200182016040528015610efa57816020015b610ee7612191565b815260200190600190039081610edf5790505b50915060005b83811015610f8c5736858583818110610f1557fe5b9050602002810190610f279190612abb565b9050610f35838b8b846111c6565b610f838389898435818110610f4657fe5b905060200201358a8a8560200135818110610f5d57fe5b90506020020135846101200135888781518110610f7657fe5b6020026020010151611264565b50600101610f00565b50509695505050505050565b60005b81518110156108a857610fc0828281518110610fb357fe5b60200260200101516115a0565b600101610f9b565b600080806038841461103b57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601160248201527f475076323a20696e76616c696420756964000000000000000000000000000000604482015290519081900360640190fd5b5050823593602084013560601c936034013560e01c92509050565b805160208201fd5b60005b8181101561110e5736600084848481811061107857fe5b905060200281019061108a9190612a25565b91509150600061109a8383610fc8565b92505050428163ffffffff16106110dd576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610402906128eb565b60008784846040516110f0929190612634565b90815260405190819003602001902055505060019091019050611061565b50505050565b9052565b73ffffffffffffffffffffffffffffffffffffffff81351660208201353660006111456040860186612a25565b9150915060405181838237600080838387895af1611167573d6000803e3d6000fd5b505050505050565b600036816111806040850185612a25565b90925090506004811061119257813592505b5050919050565b6111a16121c6565b6040805160388082526060820190925290602082018180368337505050602082015290565b835160006111d683868685611664565b90506000806111f384846111ee610140890189612a25565b61173a565b9150915061121682828660a001518b602001516117e9909392919063ffffffff16565b73ffffffffffffffffffffffffffffffffffffffff8116604089015261123c848261186b565b73ffffffffffffffffffffffffffffffffffffffff1660609098019790975250505050505050565b8451602086015160a08201514263ffffffff90911610156112b1576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016104029061280f565b60408088015173ffffffffffffffffffffffffffffffffffffffff90811685526060808a0151821660208088019190915285518316938701939093529184015116908401526080820151611305908661189d565b6060830151611314908861189d565b101561134c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161040290612846565b6000806000807ff3b277728b3fee749481eb3e0b3b48980dbbab78658fc419025cb16eee346775866101000151141561144357856101200151156113b057606086015160e08701518995506113a1908661189d565b816113a857fe5b0491506113bf565b856060015193508560e0015191505b886113ca858c61189d565b816113d157fe5b0492506113fe846002876040516113e89190612644565b9081526040519081900360200190205490611917565b9050856060015181111561143e576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610402906128b4565b6114ec565b8561012001511561147457608086015160e0870151899450611465908561189d565b8161146c57fe5b049150611483565b856080015192508560e0015191505b8961148e848b61189d565b8161149557fe5b0493506114ac836002876040516113e89190612644565b905085608001518111156114ec576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610402906128b4565b6114f68483611917565b608088015260a087018390526040518190600290611515908890612644565b908152602001604051809103902081905550866000015173ffffffffffffffffffffffffffffffffffffffff167fa07a543ab8a018198e99ca0184c93fe9050a79400a0a723441f84de1d972cc17886040015189606001518a608001518b60a00151878b60405161158b96959493929190612781565b60405180910390a25050505050505050505050565b606081015173ffffffffffffffffffffffffffffffffffffffff1673eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee141561162a57806020015173ffffffffffffffffffffffffffffffffffffffff166108fc8260a001519081150290604051600060405180830381858888f19350505050158015611624573d6000803e3d6000fd5b50611661565b61166181602001518260a00151836060015173ffffffffffffffffffffffffffffffffffffffff1661198b9092919063ffffffff16565b50565b60008383863581811061167357fe5b6020908102929092013573ffffffffffffffffffffffffffffffffffffffff16845250849084908701358181106116a657fe5b73ffffffffffffffffffffffffffffffffffffffff602091820293909301358316908501525060408087013590911690830152606080860135908301526080808601359083015263ffffffff60a080870135919091169083015260c0808601359083015260e08086013590830152611722610100860135611a62565b90151561012085015261010090930152509392505050565b600080611767867f0000000000000000000000000000000000000000000000000000000000000000611ad9565b9150600085600381111561177757fe5b141561178f57611788828585611b63565b90506117e0565b600185600381111561179d57fe5b14156117ae57611788828585611b78565b60028560038111156117bc57fe5b14156117cd57611788828585611be0565b6117dd8285858960a00151611d7e565b90505b94509492505050565b603884511461185957604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601960248201527f475076323a2075696420627566666572206f766572666c6f7700000000000000604482015290519081900360640190fd5b60388401526034830152602090910152565b604082015160009073ffffffffffffffffffffffffffffffffffffffff1661189457508061085d565b50506040015190565b6000826118ac5750600061085d565b828202828482816118b957fe5b0414611910576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526021815260200180612b516021913960400191505060405180910390fd5b9392505050565b60008282018381101561191057604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601b60248201527f536166654d6174683a206164646974696f6e206f766572666c6f770000000000604482015290519081900360640190fd5b6040517fa9059cbb0000000000000000000000000000000000000000000000000000000080825273ffffffffffffffffffffffffffffffffffffffff84166004830152602482018390529060008060448382895af16119ee573d6000803e3d6000fd5b506119f7611f43565b61110e57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601560248201527f475076323a206661696c6564207472616e736665720000000000000000000000604482015290519081900360640190fd5b6000808060018416611a96577ff3b277728b3fee749481eb3e0b3b48980dbbab78658fc419025cb16eee3467759250611aba565b7f6ed88e868af0a1983e3886d5f3e95a2fafbd6c3450bc229e27342283dc429ccc92505b60028085161515925084901c6003811115611ad157fe5b929491935050565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe090910180517fd604be04a8c6d2df582ec82eba9b65ce714008acbf9122dd95e499569c8f1a808252610160822091526040517f19010000000000000000000000000000000000000000000000000000000000008152600281019290925260228201526042902090565b6000611b70848484611fe6565b949350505050565b6000808460405160200180807f19457468657265756d205369676e6564204d6573736167653a0a333200000000815250601c01828152602001915050604051602081830303815290604052805190602001209050611bd7818585611fe6565b95945050505050565b813560601c366000611bf58460148188612aee565b604080517f1626ba7e00000000000000000000000000000000000000000000000000000000808252600482018b81526024830193845260448301859052949650929450919273ffffffffffffffffffffffffffffffffffffffff871692631626ba7e928b928892889290606401848480828437600083820152604051601f9091017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe016909201965060209550909350505081840390508186803b158015611cbb57600080fd5b505afa158015611ccf573d6000803e3d6000fd5b505050506040513d6020811015611ce557600080fd5b50517fffffffff000000000000000000000000000000000000000000000000000000001614611d7557604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601f60248201527f475076323a20696e76616c69642065697031323731207369676e617475726500604482015290519081900360640190fd5b50509392505050565b600060148314611def57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601c60248201527f475076323a206d616c666f726d6564207072657369676e617475726500000000604482015290519081900360640190fd5b506040805160388082526060828101909352853590921c9160009190602082018180368337019050509050611e26818784866117e9565b7ff59c009283ff87aa78203fc4d9c2df025ee851130fb69cc3e068941f6b5e2d6f60001c6000826040518082805190602001908083835b60208310611e9a57805182527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe09092019160209182019101611e5d565b6001836020036101000a03801982511681845116808217855250505050505090500191505090815260200160405180910390205414611f3a57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601960248201527f475076323a206f72646572206e6f74207072657369676e656400000000000000604482015290519081900360640190fd5b50949350505050565b6000803d8015611f5e5760208114611f675760019150611f74565b60019250611f74565b3d6000803e600051151592505b508015611fe257604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601f60248201527f475076323a206d616c666f726d6564207472616e7366657220726573756c7400604482015290519081900360640190fd5b5090565b60006041821461205757604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601f60248201527f475076323a206d616c666f726d6564206563647361207369676e617475726500604482015290519081900360640190fd5b604080516000815260208181018084528790528286013560f81c82840181905286356060840181905282880135608085018190529451909493919260019260a0808201937fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe081019281900390910190855afa1580156120da573d6000803e3d6000fd5b50506040517fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0015194505073ffffffffffffffffffffffffffffffffffffffff841661218757604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601d60248201527f475076323a20696e76616c6964206563647361207369676e6174757265000000604482015290519081900360640190fd5b5050509392505050565b6040805160c081018252600080825260208201819052918101829052606081018290526080810182905260a081019190915290565b60405180608001604052806121d96121f3565b815260606020820181905260006040830181905291015290565b6040805161014081018252600080825260208201819052918101829052606081018290526080810182905260a0810182905260c0810182905260e08101829052610100810182905261012081019190915290565b803573ffffffffffffffffffffffffffffffffffffffff8116811461226b57600080fd5b919050565b60008083601f840112612281578182fd5b50813567ffffffffffffffff811115612298578182fd5b60208301915083602080830285010111156122b257600080fd5b9250929050565b60008083601f8401126122ca578182fd5b50813567ffffffffffffffff8111156122e1578182fd5b6020830191508360208285010111156122b257600080fd5b600082601f830112612309578081fd5b813567ffffffffffffffff8082111561231e57fe5b60405160207fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f850116820101818110838211171561235a57fe5b604052828152848301602001861015612371578384fd5b82602086016020830137918201602001929092529392505050565b60006020828403121561239d578081fd5b61191082612247565b600080604083850312156123b8578081fd5b6123c183612247565b9150602083013567ffffffffffffffff8111156123dc578182fd5b6123e8858286016122f9565b9150509250929050565b60008060208385031215612404578182fd5b823567ffffffffffffffff81111561241a578283fd5b61242685828601612270565b90969095509350505050565b60008060008060008060006080888a03121561244c578283fd5b873567ffffffffffffffff80821115612463578485fd5b61246f8b838c01612270565b909950975060208a0135915080821115612487578485fd5b6124938b838c01612270565b909750955060408a01359150808211156124ab578485fd5b6124b78b838c01612270565b909550935060608a01359150808211156124cf578283fd5b508801606081018a10156124e1578182fd5b8091505092959891949750929550565b600060208284031215612502578081fd5b815161191081612b42565b6000806020838503121561251f578182fd5b823567ffffffffffffffff811115612535578283fd5b612426858286016122b9565b600080600060408486031215612555578283fd5b833567ffffffffffffffff81111561256b578384fd5b612577868287016122b9565b909450925050602084013561258b81612b42565b809150509250925092565b6000602082840312156125a7578081fd5b813567ffffffffffffffff8111156125bd578182fd5b611b70848285016122f9565b600080604083850312156125db578182fd5b50508035926020909101359150565b60008151808452612602816020860160208601612b16565b601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0169290920160200192915050565b6000828483379101908152919050565b60008251612656818460208701612b16565b9190910192915050565b73ffffffffffffffffffffffffffffffffffffffff91909116815260200190565b602080825282518282018190526000919060409081850190868401855b8281101561270b578151805173ffffffffffffffffffffffffffffffffffffffff90811686528782015181168887015286820151811687870152606080830151909116908601526080808201519086015260a0908101519085015260c0909301929085019060010161269e565b5091979650505050505050565b90815260200190565b60006020825282602083015282846040840137818301604090810191909152601f9092017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0160101919050565b60006020825261191060208301846125ea565b600073ffffffffffffffffffffffffffffffffffffffff808916835280881660208401525085604083015284606083015283608083015260c060a08301526127cc60c08301846125ea565b98975050505050505050565b6020808252601f908201527f475076323a2063616c6c657220646f6573206e6f74206f776e206f7264657200604082015260600190565b60208082526013908201527f475076323a206f72646572206578706972656400000000000000000000000000604082015260600190565b6020808252601f908201527f475076323a206c696d6974207072696365206e6f742072657370656374656400604082015260600190565b60208082526018908201527f475076323a206e6f7420616e20696e746572616374696f6e0000000000000000604082015260600190565b60208082526012908201527f475076323a206f726465722066696c6c65640000000000000000000000000000604082015260600190565b60208082526017908201527f475076323a206f72646572207374696c6c2076616c6964000000000000000000604082015260600190565b60208082526012908201527f475076323a206e6f74206120736f6c7665720000000000000000000000000000604082015260600190565b6020808252601b908201527f475076323a20666f7262696464656e20696e746572616374696f6e0000000000604082015260600190565b9182527fffffffff0000000000000000000000000000000000000000000000000000000016602082015260400190565b60008083357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe18436030181126129f4578283fd5b83018035915067ffffffffffffffff821115612a0e578283fd5b60209081019250810236038213156122b257600080fd5b60008083357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe1843603018112612a59578182fd5b83018035915067ffffffffffffffff821115612a73578283fd5b6020019150368190038213156122b257600080fd5b600082357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa1833603018112612656578182fd5b600082357ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffea1833603018112612656578182fd5b60008085851115612afd578182fd5b83861115612b09578182fd5b5050820193919092039150565b60005b83811015612b31578181015183820152602001612b19565b8381111561110e5750506000910152565b801515811461166157600080fdfe536166654d6174683a206d756c7469706c69636174696f6e206f766572666c6f77a264697066735822122040a5ddd344864831a3f7821307d47d6689b5d924f16a460299288e0a65d399b864736f6c6343000706003360a060405234801561001057600080fd5b5033606081901b60805261042561003060003980605d52506104256000f3fe608060405234801561001057600080fd5b506004361061002b5760003560e01c8063aef733d714610030575b600080fd5b61004361003e366004610348565b610045565b005b3373ffffffffffffffffffffffffffffffffffffffff7f000000000000000000000000000000000000000000000000000000000000000016146100bd576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016100b4906103b8565b60405180910390fd5b60005b818110156100eb576100e38383838181106100d757fe5b905060c00201336100f0565b6001016100c0565b505050565b604082013573ffffffffffffffffffffffffffffffffffffffff1673eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee141561018d57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820181905260248201527f475076323a2063616e6e6f74207472616e73666572206e617469766520455448604482015290519081900360640190fd5b6101bb73ffffffffffffffffffffffffffffffffffffffff60408401358116908435168360808601356101bf565b5050565b6040517f23b872dd0000000000000000000000000000000000000000000000000000000080825273ffffffffffffffffffffffffffffffffffffffff8581166004840152841660248301526044820183905290600080606483828a5af161022a573d6000803e3d6000fd5b506102336102a5565b61029e57604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601960248201527f475076323a206661696c6564207472616e7366657246726f6d00000000000000604482015290519081900360640190fd5b5050505050565b6000803d80156102c057602081146102c957600191506102d6565b600192506102d6565b3d6000803e600051151592505b50801561034457604080517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601f60248201527f475076323a206d616c666f726d6564207472616e7366657220726573756c7400604482015290519081900360640190fd5b5090565b6000806020838503121561035a578182fd5b823567ffffffffffffffff80821115610371578384fd5b818501915085601f830112610384578384fd5b813581811115610392578485fd5b86602060c0830285010111156103a6578485fd5b60209290920196919550909350505050565b6020808252601d908201527f475076323a206e6f7420616c6c6f77616e636520726563697069656e7400000060408201526060019056fea2646970667358221220149613821ec7e26c7ca23bb4d44976eaba202d71fbaa8b8f222beab055627c3b64736f6c63430007060033","devdoc":{"author":"Gnosis Developers","events":{"Interaction(address,uint256,bytes4)":{"details":"Event emitted for each executed interaction. For gas effeciency, only the interaction calldata selector (first 4 bytes) is included in the event. For interactions without calldata or whose calldata is shorter than 4 bytes, the selector will be `0`."},"OrderInvalidated(address,bytes)":{"details":"Event emitted when an order is invalidated."},"Settlement(address)":{"details":"Event emitted when a settlement complets"},"Trade(address,address,address,uint256,uint256,uint256,bytes)":{"details":"Event emitted for each executed trade."}},"kind":"dev","methods":{"freeFilledAmountStorage(bytes[])":{"details":"Free storage from the filled amounts of **expired** orders to claim a gas refund. This method can only be called as an interaction.","params":{"orderUids":"The unique identifiers of the expired order to free storage for."}},"freePreSignatureStorage(bytes[])":{"details":"Free storage from the pre signatures of **expired** orders to claim a gas refund. This method can only be called as an interaction.","params":{"orderUids":"The unique identifiers of the expired order to free storage for."}},"getStorageAt(uint256,uint256)":{"details":"Reads `length` bytes of storage in the currents contract","params":{"length":"- the number of words (32 bytes) of data to read","offset":"- the offset in the current contract's storage in words to start reading from"},"returns":{"_0":"the bytes that were read."}},"invalidateOrder(bytes)":{"details":"Invalidate onchain an order that has been signed offline.","params":{"orderUid":"The unique identifier of the order that is to be made invalid after calling this function. The user that created the order must be the the sender of this message. See [`extractOrderUidParams`] for details on orderUid."}},"setPreSignature(bytes,bool)":{"details":"Sets a presignature for the specified order UID.","params":{"orderUid":"The unique identifier of the order to pre-sign."}},"settle(address[],uint256[],(uint256,uint256,address,uint256,uint256,uint32,bytes32,uint256,uint256,uint256,bytes)[],(address,uint256,bytes)[][3])":{"details":"Settle the specified orders at a clearing price. Note that it is the responsibility of the caller to ensure that all GPv2 invariants are upheld for the input settlement, otherwise this call will revert. Namely: - All orders are valid and signed - Accounts have sufficient balance and approval. - Settlement contract has sufficient balance to execute trades. Note   this implies that the accumulated fees held in the contract can also   be used for settlement. This is OK since:   - Solvers need to be authorized   - Misbehaving solvers will be slashed for abusing accumulated fees for     settlement   - Critically, user orders are entirely protected","params":{"clearingPrices":"An array of clearing prices where the `i`-th price is for the `i`-th token in the [`tokens`] array.","interactions":"Smart contract interactions split into three separate lists to be run before the settlement, during the settlement and after the settlement respectively.","tokens":"An array of ERC20 tokens to be traded in the settlement. Trades encode tokens as indices into this array.","trades":"Trades for signed orders."}},"simulateDelegatecall(address,bytes)":{"details":"Performs a delegetecall on a targetContract in the context of self. Internally reverts execution to avoid side effects (making it static). Catches revert and returns encoded result as bytes.","params":{"calldataPayload":"Calldata that should be sent to the target contract (encoded method name and arguments).","targetContract":"Address of the contract containing the code to execute."}},"simulateDelegatecallInternal(address,bytes)":{"details":"Performs a delegetecall on a targetContract in the context of self. Internally reverts execution to avoid side effects (making it static). Returns encoded result as revert message concatenated with the success flag of the inner call as a last byte.","params":{"calldataPayload":"Calldata that should be sent to the target contract (encoded method name and arguments).","targetContract":"Address of the contract containing the code to execute."}}},"stateVariables":{"allowanceManager":{"details":"The allowance manager which has access to order funds. This contract is created during deployment"},"authenticator":{"details":"The authenticator is used to determine who can call the settle function. That is, only authorised solvers have the ability to invoke settlements. Any valid authenticator implements an isSolver method called by the onlySolver modifier below."},"filledAmount":{"details":"Map each user order by UID to the amount that has been filled so far. If this amount is larger than or equal to the amount traded in the order (amount sold for sell orders, amount bought for buy orders) then the order cannot be traded anymore. If the order is fill or kill, then this value is only used to determine whether the order has already been executed."}},"title":"Gnosis Protocol v2 Settlement Contract","version":1},"userdoc":{"kind":"user","methods":{},"version":1}}